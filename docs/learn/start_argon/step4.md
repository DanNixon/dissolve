---
title: Step 4 - Set up the Forcefield
grand_parent: Learn Dissolve
parent: Liquid Argon
nav_order: 4
---
# Set up the Forcefield

Go to the Forcefield tab and you will see the new AtomType - this is the sole component of the forcefield in this simulation. Note that all AtomTypes are strictly associated with with one chemical element, and can only be applied to that element.Our new AtomType exists, but has no useful parameters associated to it (they are all zero) so we must add these in now. For a Lennard-Jones interaction Parameter1 is epsilon (the well depth) in kj mol-1 while Parameter2 is sigma (which helps define the extent of the repulsive core of the atom) in Angstroms. Enter the following values:Parameter1 (epsilon) = 0.979Parameter2 (sigma) = 3.401These values are taken from Jorgensen's OPLS-AA forcefield.

Add a Configuration Create a Processing Layer We must create a Configuration to represent the experimentally-measured system investigated in the original paper. Run the Add Configuration Wizard from the Simulation menu (Simulation-Add Configuration...) and perform the following:Steps:Choose Create a Configuration from a single SpeciesYour Argon Species will already be selected as the source. Change the Density to be 0.0213 atoms A-3, and press NextWe will keep the default option of a Cubic box for the Configuration, so press NextThe multiplier for a Configuration determines how many copies of the individual Species will be present, and hence the total number of atoms and box volume (based on the density you provided earlier). A thousand atoms should be plenty, so set the Multiplier to 1000 and click NextLastly, you can give your new Configuration a suitable name, and set the Temperature to reflect that of the experimental measurement (85 K). Once you're happy, click Finish to add it to the simulation.

Create a Processing Layer Add Modules (1/5) It's time to tell Dissolve exactly what we want to do with this argon system, so we will need add a processing layer to the simulation (Simulation-Add Processing Layer...).Steps:We will Create an empty processing layer and add Modules to it by hand - there are pre-built templates that can be used to quickly build up simulations, but here we will do it the long wayFeel free to change the name of the processing layer if you want, then click FinishNote that the processing layer has an associated frequency at which it will run, relative to Dissolve's main iteration count. A frequency of 1 means the layer will be executed every iteration. Modules within the layer also have an associated run frequency, relative to the number of times the layer has been executed. ]]> Add Modules (1/5) Add Modules (2/5) Firstly, we need to instruct Dissolve to evolve our Configuration's coordinates - since we have only atomic Species in our Configuration, we can do this with an AtomShake Module, which will perform standard Monte Carlo-type moves on every atom in the Configuration:AtomShakeTo add one, either click and drag an AtomShake from the palette of available Modules on the left, or double-click one (which will append it to the layer). There are several controls on the block representing the Module that you should be aware of. These are:The frequency () at which the Module will run (relative to the frequency of the processing layer). A freqency of 1 means the Module will be run every time the processing layer is run, and is what we require in the present case.The run now button () which executes the Module immediately. In the general course of running Dissolve, you will not need to use this feature, but it can be useful when testing settings, for instance.A switch to enable () or disable () the execution of the Module.A button () to allow quick access to the Configuration targets and settings for the Module.Finally, each Module may have additional controls and displays (e.g. graphing) - double-click on its block to open an additional tab containing these controls, in addition to the settings available through (). Do this now for your AtomShake - you will see that sensible defaults for all the relevant parameters are already set, and your Configuration has already been selected as a target - if relevant, the default action is for newly-added Modules to target all available Configurations.

As it happens, the experimental data we'll be fitting is neutron scattering data, and was taken on Ar<sup>36</sup> since its coherent scattering cross-section (24.9 fm) is considerably higher than that of the naturally-occuring 'mix' (1.91 fm). We can tell Dissolve that a species has one or more distinct isotopic versions (called _isotopologues_) that can then be used seamlessly within processing modules that require that kind of information (e.g. when calculating the neutron-weighted structure factors). Go to the _Isotopologues_{: .text-green-100} section where this information is stored, and you can see that Dissolve automatically added a 'natural' isotopologue to your species when it was created. We'll modify this one to reflect the specific isotope of Ar that we need:

- Expand the entries for the 'Natural' isotopologue by clicking the [+] next to its name, or by clicking _Expand All_{: .text-green-100}.
- Each isotopologue contains an entry for every AtomType (not atom) used in the species for which single isotopes are specified
- Change the entry from `Natural (bc = 1.909 fm)` to `36 (bc = 24.9)`.
- For sanity's sake, you may also want to change the name of the isotopologue from 'Natural' to something else (double-click on the name to do so).

Add Modules (2/5) Add Modules (3/5) It's nice to monitor the total energy of our system as it evolves, which is the function of the Energy Module:EnergyClick-drag one from the palette so it appears after the AtomShake, or double-click it in the palette. Since the AtomShake runs in every iteration of the layer, so should Energy, so leave the frequency as 1.The Energy Module also determines whether the calculated total energy is stable to within some threshold, and which other Modules can use in order to decide whether to perform their respective tasks. For instance, the EPSR Module (which we will add later) has an option which prevents it from trying to adjust the potential if the total energy of any of its target Configurations is not yet stable. This avoids potential problems that might arise from using a Configuration in an unequilibrated state. ]]> Add Modules (3/5) Add Modules (4/5) OK, to business! We ultimately want to calculate the total neutron-weighted structure factor for the system, but to do that we first need the total radial distribution function from the RDF Module:RDFAdd one after the Energy - note that RDF has a default frequency of 5, so this means we will calculate the g(r) only after the AtomShake and Energy have run five times each (as their frequencies are both 1). This prevents recalculating the g(r) too often, and slowing down the evolution of the system. ]]> Add Modules (4/5) Add Modules (5/5) From the data calculated by RDF we can calculate the structure factors by Fourier transform. Since we have neutron scattering data we will use the NeutronSQ Module:NeutronSQAdd one after the RDF.The NeutronSQ will need a minor amount of setting up, so let's get into the settings (click ) and get it ready for use.Neutron IsotopesWe need to inform NeutronSQ which isotopologue to use for each Species present over all of the targeted Configurations - in the present case, we just need to describe the scattering of the Argon species. Click the Auto button - this will add the 'Natural' isotopologue for each missing Species or, if this is not present, the first isotoplogue for that Species.

[Previous Step](step3.md){: .btn }   [Next Step](step5.md){: .btn }
